{"version":3,"sources":["hbl_market.js","components/viewPurchase.js","components/Navbar.js","App.js","serviceWorker.js","index.js","SafePurchase.js","components/createPurchase.js","ipfs.js"],"names":["web3__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","web3__WEBPACK_IMPORTED_MODULE_0___default","n","web3","Web3","givenProvider","__webpack_exports__","eth","Contract","constant","inputs","name","outputs","internalType","type","payable","stateMutability","anonymous","indexed","pdfjs","GlobalWorkerOptions","workerSrc","concat","version","CreatePurchase","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onDocumentLoad","_ref","numPages","setState","onProductId","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee","event","wrap","_context","prev","next","productId","target","value","stop","_x","apply","arguments","onSubmit","_callee2","bytes32Key","address","_context2","loading","state","utils","fromAscii","console","log","contractFound","hbl_contract","methods","widgets","from","accounts","sent","contractAddress","purchaseContractDetails","_ref4","_callee3","contract","price","price_ether","seller","buyer","title","ipfsHash","_context3","SafePurchase","fromWei","_x2","onActive","_ref5","_callee4","wei","locked","_context4","preventDefault","toWei","buyerConfirmPurchase","send","_x3","onBuyerConfirmReceived","_ref6","_callee5","confirm_received","_context5","buyerConfirmReceived","_x4","selectedFile","buffer","productName","showHide","ipfs","pageNumber","bind","assertThisInitialized","loadBlockchainData","window","ethereum","enable","then","e","getAccounts","_this2","isContractFound","_this$state","react_default","createElement","defineProperty","className","placeholder","id","onChange","onClick","role","aria-hidden","href","handleModalShowHide","Modal","aria-labelledby","centered","size","show","Header","closeButton","Title","Body","class","aria-label","prevState","style","marginLeft","entry","file","onLoadSuccess","color","textAlign","Component","Navbar","_useState","useState","_useState2","slicedToArray","isOpen","setOpen","aria-expanded","react_router_dom","activeClassName","to","App","Fragment","components_Navbar","marginTop","react_router","path","createPurchase","viewPurchase","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","d","safepurchase","_home_aman_Desktop_Ethereum_Escrow_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_home_aman_Desktop_Ethereum_Escrow_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_aman_Desktop_Ethereum_Escrow_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","onFileChange","_home_aman_Desktop_Ethereum_Escrow_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_aman_Desktop_Ethereum_Escrow_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","t0","files","t1","t2","onProductName","_ref3","onFileUpload","file_data","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","result","add","err","hash","_callee6","_context6","createPurchaseContract","_x5","getContract","_callee7","_context7","purchaseContract","_ref8","_callee8","_context8","_x6","_home_aman_Desktop_Ethereum_Escrow_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","currentProvider","alert","react__WEBPACK_IMPORTED_MODULE_11___default","_home_aman_Desktop_Ethereum_Escrow_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","disabled","require","host","port","protocol"],"mappings":"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","file":"static/js/main.6adfe842.chunk.js","sourcesContent":["import Web3 from \"web3\";\n//access our local copy to contract deployed on rinkeby testnet\n//use your own contract address\n\nconst address = \"0xe1b1487b61E39d0A2bAC4CE74b2A18AA4EA2B72E\"; //\"0x249Ea4c4cbF74E51309bF15c9b4fF120cf550d6B\"; //\"0xe1b1487b61E39d0A2bAC4CE74b2A18AA4EA2B72E\"\nlet web3 = new Web3(\n  Web3.givenProvider ||\n    \"wss://ropsten.infura.io/ws/v3/43cda5da85674a7a88c5e531e2a09a76\"\n);\n// var parsed = JSON.parse(fs.readFileSync(HBL_MARKET));\nvar abi = [\n  {\n    constant: true,\n    inputs: [],\n    name: \"name\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"lastContractAddress\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: \"bytes32\", name: \"\", type: \"bytes32\" }],\n    name: \"widgets\",\n    outputs: [\n      { internalType: \"address\", name: \"contractAddress\", type: \"address\" },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"contractAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"logNewPurchaseContract\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"sender\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes32\",\n        name: \"key\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"logRemovePurchaseContract\",\n    type: \"event\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: \"bytes32\", name: \"key\", type: \"bytes32\" },\n      { internalType: \"string\", name: \"title\", type: \"string\" },\n      { internalType: \"string\", name: \"ipfsHash\", type: \"string\" },\n    ],\n    name: \"createPurchaseContract\",\n    outputs: [{ internalType: \"bool\", name: \"createResult\", type: \"bool\" }],\n    payable: true,\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"getContractCount\",\n    outputs: [\n      { internalType: \"uint256\", name: \"contractCount\", type: \"uint256\" },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: \"uint256\", name: \"index\", type: \"uint256\" }],\n    name: \"getContractKeyAtIndex\",\n    outputs: [{ internalType: \"bytes32\", name: \"key\", type: \"bytes32\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: \"bytes32\", name: \"key\", type: \"bytes32\" }],\n    name: \"getContractByKey\",\n    outputs: [\n      { internalType: \"address\", name: \"contractAddress\", type: \"address\" },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [{ internalType: \"bytes32\", name: \"key\", type: \"bytes32\" }],\n    name: \"removeContractByKey\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n//use the ABI from your contract\n// console.log(abi);\nexport default new web3.eth.Contract(abi, address);\n","import ipfs from \"../ipfs\";\nimport hbl_contract from \"../hbl_market\";\nimport React, { Component, useState } from \"react\";\nimport Web3 from \"web3\";\nimport SafePurchase from \"../SafePurchase\";\nimport { Document, Page, pdfjs } from \"react-pdf\";\n// import Modal from \"react-bootstrap/Modal\";\nimport { Button, Modal } from \"react-bootstrap\";\n\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\n\nclass CreatePurchase extends Component {\n  componentWillMount() {\n    this.loadBlockchainData();\n  }\n  constructor(props) {\n    super(props);\n    this.state = {\n      accounts: [],\n      loading: false,\n      selectedFile: null,\n      ipfsHash: null,\n      buffer: null,\n      productId: \"\",\n      productName: \"\",\n      web3: \"\",\n      contractAddress: \"\",\n      price: \"\",\n      contractFound: false,\n      title: \"\",\n      state: \"\",\n      showHide: false,\n      ipfs: \"\",\n      pageNumber: 1,\n      numPages: null,\n    };\n\n    this.onProductId = this.onProductId.bind(this);\n  }\n  async loadBlockchainData() {\n    let web3;\n    if (window.ethereum) {\n      web3 = new Web3(window.ethereum);\n      try {\n        window.ethereum.enable().then(function () {\n          // User has allowed account access to DApp...\n          web3 = new Web3(\n            Web3.givenProvider ||\n              \"wss://ropsten.infura.io/ws/v3/43cda5da85674a7a88c5e531e2a09a76\"\n          );\n        });\n      } catch (e) {\n        // User has denied account access to DApp...\n      }\n    }\n    // Legacy DApp Browsers\n\n    this.setState({ web3: web3 });\n    let accounts = await web3.eth.getAccounts();\n    console.log(accounts);\n    this.setState({ accounts: accounts });\n  }\n  handleModalShowHide(event) {\n    // event.preventDefault();\n    this.setState({ showHide: !this.state.showHide });\n  }\n  onDocumentLoad = ({ numPages }) => {\n    this.setState({ numPages });\n  };\n  onProductId = async (event) => {\n    this.setState({ productId: event.target.value });\n  };\n  onSubmit = async () => {\n    this.setState({ loading: true });\n    const bytes32Key = this.state.web3.utils.fromAscii(this.state.productId);\n    console.log(this.state.contractFound);\n\n    let address = await hbl_contract.methods\n      .widgets(bytes32Key)\n      .call({ from: this.state.accounts[0] });\n    if (address != \"\") {\n      this.setState({ contractAddress: address });\n    }\n    console.log(this.state.contractFound);\n    // console.log(SafePurchase(address));\n    await this.purchaseContractDetails(address);\n    this.setState({ loading: false });\n  };\n  purchaseContractDetails = async (address) => {\n    const web3 = this.state.web3;\n    let contract = SafePurchase(address);\n    let price = await contract.methods.price().call({\n      from: this.state.accounts[0],\n    });\n    let price_ether = web3.utils.fromWei(price, \"Ether\");\n    this.setState({});\n    let seller = await contract.methods.seller().call({\n      from: this.state.accounts[0],\n    });\n    let buyer = await contract.methods.buyer().call({\n      from: this.state.accounts[0],\n    });\n    let title = await contract.methods.title().call({\n      from: this.state.accounts[0],\n    });\n    this.setState({});\n    let ipfsHash = await contract.methods.ipfsHash().call({\n      from: this.state.accounts[0],\n    });\n    let state = await contract.methods.state().call({\n      from: this.state.accounts[0],\n    });\n    if (state == \"0\") {\n      state = \"Created\";\n    } else if (state == \"1\") {\n      state = \"Locked\";\n    } else {\n      state = \"Inactive\";\n    }\n    this.setState({\n      price: price_ether,\n      ipfsHash: ipfsHash,\n      title: title,\n      contractFound: true,\n      state: state,\n    });\n\n    console.log(seller);\n    console.log(\"buyer\", buyer);\n  };\n  onActive = async (event) => {\n    this.state.loading = true;\n    event.preventDefault();\n    const { web3 } = this.state;\n    let contract = SafePurchase(this.state.contractAddress);\n    const wei = web3.utils.toWei(\"0.0004\", \"Ether\");\n\n    let locked = await contract.methods.buyerConfirmPurchase().send({\n      from: this.state.accounts[0],\n      value: wei,\n    });\n    console.log(locked);\n    this.state.loading = false;\n  };\n  onBuyerConfirmReceived = async (event) => {\n    this.state.loading = true;\n    event.preventDefault();\n    const { web3 } = this.state;\n    let contract = SafePurchase(this.state.contractAddress);\n    let confirm_received = await contract.methods.buyerConfirmReceived().send({\n      from: this.state.accounts[0],\n    });\n    console.log(confirm_received);\n    this.state.loading = false;\n  };\n  render() {\n    const isContractFound = this.state.contractFound;\n    const { pageNumber, numPages } = this.state;\n    {\n      console.log(`https://ipfs.io/ipfs/${this.state.ipfsHash}`);\n    }\n\n    return (\n      <div className=\"App\" className=\"container-fluid\">\n        <div>\n          <h4 className=\"text-center\"> Enter Product ID </h4>\n          <div className=\"row justify-content-center\">\n            <form>\n              <div className=\"form-group row\">\n                <input\n                  className=\"form-control\"\n                  type=\"text\"\n                  placeholder=\"Product ID\"\n                  id=\"product_id\"\n                  onChange={this.onProductId}\n                />\n              </div>\n              &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;\n              &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={this.onSubmit}\n              >\n                {this.state.loading && (\n                  <span\n                    className=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                )}\n                Request Contract\n              </button>\n            </form>\n          </div>\n          {isContractFound ? (\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th>Product ID</th>\n                  <th>Price</th>\n                  <th>title</th>\n                  <th>IPFS Hash</th>\n                  <th>State</th>\n                  <th>Action</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td>{this.state.productId}</td>\n                  <td>{this.state.price} ETH</td>\n                  <td>{this.state.title}</td>\n                  <td>\n                    <a\n                      href=\"javascript:void(0)\"\n                      onClick={() => this.handleModalShowHide()}\n                    >\n                      {this.state.ipfsHash}\n                    </a>\n                  </td>\n                  <td>{this.state.state}</td>\n                  <td>\n                    {(this.state.state == \"Locked\" && (\n                      <button\n                        className=\"btn btn-success\"\n                        type=\"button\"\n                        onClick={this.onBuyerConfirmReceived}\n                      >\n                        Confirm Received\n                      </button>\n                    )) ||\n                      (this.state.state == \"Create\" && (\n                        <button\n                          className=\"btn btn-primary\"\n                          type=\"button\"\n                          onClick={this.onActive}\n                        >\n                          {this.state.loading && (\n                            <span\n                              className=\"spinner-border spinner-border-sm\"\n                              role=\"status\"\n                              aria-hidden=\"true\"\n                            ></span>\n                          )}\n                          Activate\n                        </button>\n                      ))}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          ) : (\n            <p>Contract not Found</p>\n          )}\n        </div>\n        <Modal\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          size=\"lg\"\n          show={this.state.showHide}\n        >\n          <Modal.Header closeButton onClick={() => this.handleModalShowHide()}>\n            <Modal.Title>Widget Document</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div class=\" btn-group\" role=\"group\" aria-label=\"Basic example\">\n              <button\n                className=\"btn btn-default\"\n                onClick={() =>\n                  this.setState((prevState) => ({\n                    pageNumber: prevState.pageNumber - 1,\n                  }))\n                }\n              >\n                <i class=\"fa fa-arrow-left\"></i>\n              </button>\n              <button\n                className=\"btn btn-default\"\n                style={{ marginLeft: 710 }}\n                onClick={() =>\n                  this.setState((prevState) => ({\n                    pageNumber: prevState.pageNumber + 1,\n                  }))\n                }\n              >\n                <i class=\"fa fa-arrow-right\"></i>\n              </button>\n            </div>\n            <Document\n              file={`https://ipfs.io/ipfs/${this.state.ipfsHash}`}\n              onLoadSuccess={this.onDocumentLoad}\n            >\n              <div style={{ color: \"white\", textAlign: \"center\" }}>\n                <p>\n                  <Page pageNumber={pageNumber} /> page {pageNumber} of{\" \"}\n                  {numPages}\n                </p>\n              </div>\n            </Document>\n          </Modal.Body>\n        </Modal>\n      </div>\n    );\n  }\n}\nexport default CreatePurchase;\n","import React, { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"../App.css\";\n\nconst Navbar = () => {\n  const [isOpen, setOpen] = useState(false);\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <a\n            role=\"button\"\n            className={`navbar-burger burger ${isOpen && \"is-active\"}`}\n            aria-label=\"menu\"\n            aria-expanded=\"false\"\n            onClick={() => setOpen(!isOpen)}\n          >\n            <span aria-hidden=\"true\">\n              {\" \"}\n              Escrow Payment With Ethereum and IPFS\n            </span>\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n          </a>\n        </div>\n\n        <div className={`navbar-menu ${isOpen && \"is-active\"}`}>\n          <div className=\"navbar-nav\">\n            <NavLink\n              className=\"navbar-item nav-link\"\n              activeClassName=\"is-active\"\n              to=\"/Createpurchase\"\n            >\n              Home\n            </NavLink>\n\n            <NavLink\n              className=\"navbar-item nav-link\"\n              activeClassName=\"is-active\"\n              to=\"/Createpurchase\"\n            >\n              Create Purchase\n            </NavLink>\n\n            <NavLink\n              className=\"navbar-item nav-link\"\n              activeClassName=\"is-active\"\n              to=\"/ViewPurchase\"\n            >\n              View Purchase\n            </NavLink>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","// import React, { Component } from \"react\";\n// import Web3 from \"web3\";\n// import \"./App.css\";\n// // import { TODO_LIST_ABI, TODO_LIST_ADDRESS } from \"./config\";\n// // import TodoList from \"./TodoList\";\n\n// className App extends Component {\n//   componentWillMount() {\n//     this.loadBlockchainData();\n//   }\n\n//   async loadBlockchainData() {\n//     let web3;\n//     // web3 = new Web3(\n//     //   new Web3.providers.HttpProvider(\n//     //     \"https://ropsten.infura.io/v3/43cda5da85674a7a88c5e531e2a09a76\"\n//     //   )\n//     // );\n//     if (window.ethereum) {\n//       web3 = new Web3(window.ethereum);\n//       try {\n//         window.ethereum.enable().then(function () {\n//           // User has allowed account access to DApp...\n//         });\n//       } catch (e) {\n//         // User has denied account access to DApp...\n//       }\n//     }\n//     // Legacy DApp Browsers\n//     else if (window.web3) {\n//       web3 = new Web3(window.web3.currentProvider);\n//     }\n//     // Non-DApp Browsers\n//     else {\n//       alert(\"You have to install MetaMask !\");\n//     }\n//     // const web3 = new Web3(Web3.givenProvider);\n//     // console.log(accounts1);\n//     // if (Web3.ethEnabled()) {\n//     //   console.log(\"here\");\n//     // }\n//     console.log(web3);\n//     const accounts = await web3.eth.getAccounts();\n//     console.log(\"accounts\", accounts);\n//     this.setState({ account: accounts[0] });\n//     // const todoList = new web3.eth.Contract(TODO_LIST_ABI, TODO_LIST_ADDRESS);\n//     // this.setState({ todoList });\n//     // const taskCount = await todoList.methods.taskCount().call();\n//     // this.setState({ taskCount });\n//     // for (var i = 1; i <= taskCount; i++) {\n//     //   const task = await todoList.methods.tasks(i).call();\n//     //   this.setState({\n//     //     tasks: [...this.state.tasks, task],\n//     //   });\n//     // }\n//     // this.setState({ loading: false });\n//   }\n\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       account: \"\",\n//       taskCount: 0,\n//       tasks: [],\n//       loading: true,\n//     };\n\n//     // this.createTask = this.createTask.bind(this);\n//     // this.toggleCompleted = this.toggleCompleted.bind(this);\n//   }\n\n//   // createTask(content) {\n//   //   this.setState({ loading: true });\n//   //   this.state.todoList.methods\n//   //     .createTask(content)\n//   //     .send({ from: this.state.account })\n//   //     .once(\"receipt\", (receipt) => {\n//   //       this.setState({ loading: false });\n//   //     });\n//   // }\n\n//   toggleCompleted(taskId) {\n//     this.setState({ loading: true });\n//     this.state.todoList.methods\n//       .toggleCompleted(taskId)\n//       .send({ from: this.state.account })\n//       .once(\"receipt\", (receipt) => {\n//         this.setState({ loading: false });\n//       });\n//   }\n\n//   render() {\n//     return (\n//       <div>\n//         <nav classNameName=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n//           <a\n//             classNameName=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n//             href=\"http://www.dappuniversity.com/free-download\"\n//             // target=\"_blank\"\n//           >\n//             Dapp University | Todo List\n//           </a>\n//           <ul classNameName=\"navbar-nav px-3\">\n//             <li classNameName=\"nav-item text-nowrap d-none d-sm-none d-sm-block\">\n//               <small>\n//                 {/* <a classNameName=\"nav-link\" href=\"#\">\n//                   <span id=\"account\"></span>\n//                 </a> */}\n//               </small>\n//             </li>\n//           </ul>\n//         </nav>\n//         <div classNameName=\"container-fluid\">\n//           <div classNameName=\"row\">\n//             <main\n//               role=\"main\"\n//               className=\"col-lg-12 d-flex justify-content-center\"\n//             >\n//               {this.state.loading ? (\n//                 <div id=\"loader\" className=\"text-center\">\n//                   <p className=\"text-center\">Loading...</p>\n//                 </div>\n//               ) : (\n//                 <p>{this.state.account}</p>\n//                 // <TodoList\n//                 //   tasks={this.state.tasks}\n//                 //   createTask={this.createTask}\n//                 //   toggleCompleted={this.toggleCompleted}\n//                 // />\n//               )}\n//             </main>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// export default App;\nimport ipfs from \"./ipfs\";\nimport hbl_contract from \"./hbl_market\";\nimport React, { Component, useState } from \"react\";\nimport { Route, Link, BrowserRouter, Switch } from \"react-router-dom\";\nimport Home from \"./components/createPurchase\";\nimport CreatePurchase from \"./components/createPurchase\";\nimport ViewPurchase from \"./components/viewPurchase\";\nimport Navbar from \"./components/Navbar\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nconst infuraProjectId = \"43cda5da85674a7a88c5e531e2a09a76\";\nclass App extends Component {\n  // componentWillMount() {\n  //   this.loadBlockchainData();\n  // }\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     accounts: [],\n  //     loading: true,\n  //     selectedFile: null,\n  //     ipfsHash: null,\n  //     buffer: null,\n  //     productId: \"\",\n  //     productName: \"\",\n  //     web3: \"\",\n  //     contractAddress: \"\",\n  //   };\n  //   this.onFileChange = this.onFileChange.bind(this);\n  //   this.onFileUpload = this.onFileUpload.bind(this);\n  //   this.onProductId = this.onProductId.bind(this);\n  //   this.onProductName = this.onProductName.bind(this);\n  // }\n  // async loadBlockchainData() {\n  //   let web3;\n  //   if (window.ethereum) {\n  //     web3 = new Web3(window.ethereum);\n  //     try {\n  //       window.ethereum.enable().then(function () {\n  //         // User has allowed account access to DApp...\n  //         web3 = new Web3(\n  //           Web3.givenProvider ||\n  //             \"wss://ropsten.infura.io/ws/v3/43cda5da85674a7a88c5e531e2a09a76\"\n  //         );\n  //       });\n  //     } catch (e) {\n  //       // User has denied account access to DApp...\n  //     }\n  //   }\n  //   // Legacy DApp Browsers\n  //   else if (window.web3) {\n  //     web3 = new Web3(window.web3.currentProvider);\n  //   }\n  //   // Non-DApp Browsers\n  //   else {\n  //     alert(\"You have to install MetaMask !\");\n  //   }\n  //   this.setState({ web3: web3 });\n  //   let accounts = await web3.eth.getAccounts();\n  //   this.setState({ accounts: accounts });\n  // }\n  // onFileChange = async (event) => {\n  //   // Update the state\n  //   // event.preventDefault();\n  //   this.setState({ selectedFile: await event.target.files[0] });\n  //   console.log(this.state.selectedFile);\n  // };\n  // onProductId = async (event) => {\n  //   this.setState({ productId: event.target.value });\n  // };\n  // onProductName = async (event) => {\n  //   this.setState({ productName: event.target.value });\n  // };\n  // onFileUpload = async (event) => {\n  //   this.setState({ loading: false });\n  //   const file_data = this.state.selectedFile;\n  //   console.log(file_data);\n  //   const reader = new window.FileReader();\n  //   reader.readAsArrayBuffer(file_data);\n  //   reader.onloadend = async () => {\n  //     this.setState({ buffer: await Buffer(reader.result) });\n  //     console.log(\"buffer:\", this.state.buffer);\n  //   };\n\n  //   await ipfs.add(this.state.buffer, (err, ipfsHash) => {\n  //     if (err) {\n  //       console.log(\"Error::\", err);\n  //     } else {\n  //       console.log(ipfsHash);\n  //     }\n\n  //     //setState by setting ipfsHash to ipfsHash[0].hash\n  //     this.setState({ ipfsHash: ipfsHash[0].hash });\n  //     console.log(this.state.ipfsHash);\n  //     this.setState({ loading: false });\n  //   });\n  // };\n\n  // onSubmit = async (event) => {\n  //   event.preventDefault();\n  //   const web3 = this.state.web3;\n  //   // console.log(accounts);\n  //   console.log(this.state.productId, this.state.productName);\n  //   const bytes32Key = web3.utils.fromAscii(this.state.productId);\n  //   console.log(bytes32Key);\n  //   const wei = web3.utils.toWei(\"0.0004\", \"Ether\");\n\n  //   console.log(hbl_contract.methods);\n  //   hbl_contract.methods\n  //     .createPurchaseContract(\n  //       bytes32Key,\n  //       this.state.productName,\n  //       this.state.ipfsHash\n  //     )\n  //     .send({\n  //       from: this.state.accounts[0],\n  //       value: wei,\n  //     });\n  // };\n  // // getContract = async () => {\n  // //   let address = await hbl_contract.methods\n  // //     .getContractKeyAtIndex(1)\n  // //     .call({ from: this.state.accounts[0] });\n  // //   console.log(address);\n  // // };\n  // getContract = async () => {\n  //   const bytes32Key = this.state.web3.utils.fromAscii(this.state.productId);\n\n  //   let address = await hbl_contract.methods\n  //     .widgets(bytes32Key)\n  //     .call({ from: this.state.accounts[0] });\n  //   this.setState({ contractAddress: address });\n  //   console.log(address);\n  //   // console.log(SafePurchase(address));\n  //   // this.purchaseContract(address);\n  // };\n\n  // purchaseContract = async (address) => {\n  //   const web3 = this.state.web3;\n  //   let contract = await SafePurchase(address);\n  //   let price = await contract.methods.price().call({\n  //     from: this.state.accounts[0],\n  //   });\n  //   let price_ether = web3.utils.fromWei(price, \"Ether\");\n\n  //   console.log(price_ether);\n  // };\n\n  render() {\n    return (\n      <>\n        <BrowserRouter>\n          <Navbar />\n          <div className=\"container mt-2\" style={{ marginTop: 40 }}>\n            <Switch>\n              <Route path=\"/createpurchase\">\n                <CreatePurchase />\n              </Route>\n              <Route path=\"/ViewPurchase\">\n                <ViewPurchase />\n              </Route>\n            </Switch>\n          </div>\n        </BrowserRouter>\n      </>\n    );\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Route, Link, BrowserRouter as Router } from \"react-router-dom\";\nimport CreatePurchase from \"./components/createPurchase\";\nimport ViewPurchase from \"./components/viewPurchase\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"../node_modules/font-awesome/css/font-awesome.min.css\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nconst routing = (\n  <Router>\n    <div>\n      <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <a class=\"navbar-brand\" href=\"#\">\n          Escrow Payment | Ethereum % IPFS\n        </a>\n        <button\n          class=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarSupportedContent\"\n          aria-controls=\"navbarSupportedContent\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"{CreatePurchase}\">\n                Home\n              </Link>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link\" href=\"#\">\n                Link\n              </a>\n            </li>\n            <li class=\"nav-item dropdown\">\n              <a\n                class=\"nav-link dropdown-toggle\"\n                href=\"#\"\n                id=\"navbarDropdown\"\n                role=\"button\"\n                data-toggle=\"dropdown\"\n                aria-haspopup=\"true\"\n                aria-expanded=\"false\"\n              >\n                Dropdown\n              </a>\n              <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                <a class=\"dropdown-item\" href=\"#\">\n                  Action\n                </a>\n                <a class=\"dropdown-item\" href=\"#\">\n                  Another action\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a class=\"dropdown-item\" href=\"#\">\n                  Something else here\n                </a>\n              </div>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link disabled\" href=\"#\">\n                Disabled\n              </a>\n            </li>\n          </ul>\n        </div>\n      </nav>\n\n      <Route path=\"/\" component={App} />\n      <Route exact path=\"/createPurchase\" component={CreatePurchase} />\n      <Route path=\"ViewPurchase\" component={ViewPurchase} />\n    </div>\n  </Router>\n);\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import Web3 from \"web3\";\n//access our local copy to contract deployed on rinkeby testnet\n//use your own contract address\nexport default function safepurchase(address) {\n  let web3 = new Web3(\n    Web3.givenProvider ||\n      \"wss://ropsten.infura.io/ws/v3/43cda5da85674a7a88c5e531e2a09a76\"\n  );\n\n  const abi = [\n    {\n      constant: true,\n      inputs: [],\n      name: \"seller\",\n      outputs: [{ internalType: \"address payable\", name: \"\", type: \"address\" }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n    {\n      constant: true,\n      inputs: [],\n      name: \"key\",\n      outputs: [{ internalType: \"bytes32\", name: \"\", type: \"bytes32\" }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n    {\n      constant: true,\n      inputs: [],\n      name: \"title\",\n      outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n    {\n      constant: true,\n      inputs: [],\n      name: \"buyer\",\n      outputs: [{ internalType: \"address payable\", name: \"\", type: \"address\" }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n    {\n      constant: true,\n      inputs: [],\n      name: \"price\",\n      outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n    {\n      constant: true,\n      inputs: [],\n      name: \"state\",\n      outputs: [\n        {\n          internalType: \"enum SafeRemotePurchase.State\",\n          name: \"\",\n          type: \"uint8\",\n        },\n      ],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n    {\n      constant: true,\n      inputs: [],\n      name: \"ipfsHash\",\n      outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n    {\n      inputs: [\n        {\n          internalType: \"address payable\",\n          name: \"_contractSeller\",\n          type: \"address\",\n        },\n        { internalType: \"bytes32\", name: \"_key\", type: \"bytes32\" },\n        { internalType: \"string\", name: \"_title\", type: \"string\" },\n        { internalType: \"string\", name: \"_ipfxHash\", type: \"string\" },\n      ],\n      payable: true,\n      stateMutability: \"payable\",\n      type: \"constructor\",\n    },\n    { anonymous: false, inputs: [], name: \"Aborted\", type: \"event\" },\n    { anonymous: false, inputs: [], name: \"PurchaseConfirmed\", type: \"event\" },\n    { anonymous: false, inputs: [], name: \"ItemReceived\", type: \"event\" },\n    {\n      constant: false,\n      inputs: [],\n      name: \"buyerConfirmPurchase\",\n      outputs: [],\n      payable: true,\n      stateMutability: \"payable\",\n      type: \"function\",\n    },\n    {\n      constant: false,\n      inputs: [],\n      name: \"buyerConfirmReceived\",\n      outputs: [],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\",\n    },\n    {\n      constant: false,\n      inputs: [],\n      name: \"abortBySeller\",\n      outputs: [],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\",\n    },\n    {\n      constant: true,\n      inputs: [],\n      name: \"balanceOf\",\n      outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n  ];\n  return new web3.eth.Contract(abi, address);\n}\n// export default abi;\n","import ipfs from \"../ipfs\";\nimport hbl_contract from \"../hbl_market\";\nimport React, { Component, useState } from \"react\";\nimport Web3 from \"web3\";\nimport SafePurchase from \"../SafePurchase\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nclass CreatePurchase extends Component {\n  componentWillMount() {\n    this.loadBlockchainData();\n  }\n  constructor(props) {\n    super(props);\n    this.state = {\n      accounts: [],\n      loading: true,\n      selectedFile: null,\n      ipfsHash: null,\n      buffer: null,\n      productId: \"\",\n      productName: \"\",\n      web3: \"\",\n      contractAddress: \"\",\n    };\n    this.onFileChange = this.onFileChange.bind(this);\n    this.onFileUpload = this.onFileUpload.bind(this);\n    this.onProductId = this.onProductId.bind(this);\n    this.onProductName = this.onProductName.bind(this);\n  }\n  async loadBlockchainData() {\n    let web3;\n    if (window.ethereum) {\n      web3 = new Web3(window.ethereum);\n      try {\n        window.ethereum.enable().then(function () {\n          // User has allowed account access to DApp...\n          web3 = new Web3(\n            Web3.givenProvider ||\n              \"wss://ropsten.infura.io/ws/v3/43cda5da85674a7a88c5e531e2a09a76\"\n          );\n        });\n      } catch (e) {\n        // User has denied account access to DApp...\n      }\n    }\n    // Legacy DApp Browsers\n    else if (window.web3) {\n      web3 = new Web3(window.web3.currentProvider);\n    }\n    // Non-DApp Browsers\n    else {\n      alert(\"You have to install MetaMask !\");\n    }\n    this.setState({ web3: web3 });\n    let accounts = await web3.eth.getAccounts();\n    this.setState({ accounts: accounts });\n  }\n  onFileChange = async (event) => {\n    // Update the state\n    // event.preventDefault();\n    this.setState({ selectedFile: await event.target.files[0] });\n    console.log(this.state.selectedFile);\n  };\n  onProductId = async (event) => {\n    this.setState({ productId: event.target.value });\n  };\n  onProductName = async (event) => {\n    this.setState({ productName: event.target.value });\n  };\n  onFileUpload = async (event) => {\n    this.setState({ loading: false });\n    const file_data = this.state.selectedFile;\n    console.log(file_data);\n    const reader = new window.FileReader();\n    reader.readAsArrayBuffer(file_data);\n    reader.onloadend = async () => {\n      this.setState({ buffer: await Buffer(reader.result) });\n      console.log(\"buffer:\", this.state.buffer);\n    };\n\n    await ipfs.add(this.state.buffer, (err, ipfsHash) => {\n      if (err) {\n        console.log(\"Error::\", err);\n      } else {\n        console.log(ipfsHash);\n      }\n\n      //setState by setting ipfsHash to ipfsHash[0].hash\n      this.setState({ ipfsHash: ipfsHash[0].hash });\n      console.log(this.state.ipfsHash);\n      this.setState({ loading: false });\n    });\n  };\n\n  onSubmit = async (event) => {\n    event.preventDefault();\n    const web3 = this.state.web3;\n    // console.log(accounts);\n    console.log(this.state.productId, this.state.productName);\n    const bytes32Key = web3.utils.fromAscii(this.state.productId);\n    console.log(bytes32Key);\n    const wei = web3.utils.toWei(\"0.0004\", \"Ether\");\n\n    console.log(hbl_contract.methods);\n    hbl_contract.methods\n      .createPurchaseContract(\n        bytes32Key,\n        this.state.productName,\n        this.state.ipfsHash\n      )\n      .send({\n        from: this.state.accounts[0],\n        value: wei,\n      });\n  };\n  // getContract = async () => {\n  //   let address = await hbl_contract.methods\n  //     .getContractKeyAtIndex(1)\n  //     .call({ from: this.state.accounts[0] });\n  //   console.log(address);\n  // };\n  getContract = async () => {\n    const bytes32Key = this.state.web3.utils.fromAscii(this.state.productId);\n\n    let address = await hbl_contract.methods\n      .widgets(bytes32Key)\n      .call({ from: this.state.accounts[0] });\n    this.setState({ contractAddress: address });\n    console.log(address);\n    // console.log(SafePurchase(address));\n    // this.purchaseContract(address);\n  };\n\n  purchaseContract = async (address) => {\n    const web3 = this.state.web3;\n    let contract = await SafePurchase(address);\n    let price = await contract.methods.price().call({\n      from: this.state.accounts[0],\n    });\n    let price_ether = web3.utils.fromWei(price, \"Ether\");\n\n    console.log(price_ether);\n  };\n\n  render() {\n    return (\n      <div className=\"App\" className=\"container-fluid\">\n        <div>\n          <h3 className=\"text-center\"> Product Details </h3>\n          <div className=\"row justify-content-center\">\n            <form onSubmit={this.onSubmit}>\n              <div className=\"form-group row\">\n                <input\n                  class=\"form-control\"\n                  type=\"text\"\n                  placeholder=\"Product ID\"\n                  id=\"product_id\"\n                  onChange={this.onProductId}\n                />\n              </div>\n              <div className=\"form-group row\">\n                <input\n                  class=\"form-control \"\n                  type=\"text\"\n                  placeholder=\"Product Name\"\n                  id=\"product_name\"\n                  onChange={this.onProductName}\n                />\n              </div>\n              <div className=\"form-group row\">\n                <input\n                  class=\"form-control\"\n                  type=\"text\"\n                  placeholder=\"IPFS_Hash\"\n                  id=\"ipfs_hash\"\n                  value={this.state.ipfsHash}\n                  disabled\n                />\n              </div>\n\n              <fieldset className=\"form-group\">\n                <div className=\"form-group row\">\n                  <input\n                    class=\"form-control\"\n                    type=\"file\"\n                    placeholder=\"File\"\n                    name=\"file\"\n                    onChange={this.onFileChange}\n                  />\n                  <br></br>\n                  <br></br>\n                </div>\n              </fieldset>\n              {/* <div> {this.state.selectedFile ? this.fileData() : \"\"}</div> */}\n              <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-primary\"\n                  onClick={this.onFileUpload}\n                >\n                  Upload File\n                </button>{\" \"}\n                &nbsp;&nbsp;\n                <button type=\"submit\" class=\"btn btn-primary\">\n                  Create Purchase\n                </button>\n                &nbsp;&nbsp;\n                {/* <button\n                  type=\"button\"\n                  class=\"btn btn-warning\"\n                  onClick={this.onClick}\n                >\n                  Get Transaction Receipt\n                </button> */}\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default CreatePurchase;\n","const IPFS = require(\"ipfs-api\");\n\nconst ipfs = new IPFS({\n  host: \"ipfs.infura.io\",\n  port: 5001,\n  protocol: \"https\",\n});\n\nexport default ipfs;\n"],"sourceRoot":""}